!function(){"use strict";var V=function(V,t){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is-close";t.style.blockSize="".concat(t.scrollHeight,"px"),V||(t.style.blockSize="".concat(t.scrollHeight,"px"),t.classList.add(A));var e=setTimeout((function(){t.style.blockSize="",t.classList.remove(A),clearTimeout(e)}),500)},t=function(V,t,A){if("text"===V)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,A);if("field"===V){var e=t.value.replace(/[^0-9]/g,"");e=e.replace(/\B(?=(\d{3})+(?!\d))/g,A),t.value=e}};document.addEventListener("DOMContentLoaded",(function(){var A=document.querySelector("body"),e=A.querySelectorAll("[data-spoiler-button]"),l=A.querySelectorAll(".calc__field-input"),n=A.querySelector(".calc__total-result"),a=!1,c=new Audio("data:audio/mpeg;base64,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l66A+sBKsb3MK//SnKSoeEbwjlksu4Y6nUw8//swZPsA8awMWfghSAAAAA0gAAABCB0LYeAwQ4gAADSAAAAElUxBTUUzLjEwMFVVVVVVVVVVVVVVgRCAAnmjmEjpMKT//f6oUrbOjqnbawppb6P//2DCQVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swZPuA8etCV/kBHWAAAA0gAAABBxBTXeA8YoAAADSAAAAEVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sgZPyA8agY1vgLEKAAAA0gAAABBxDdV+KkToAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7IGT0gPF8JNV4BxHQAAANIAAAAQUcZVOgCSfAAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk9wzxTDJTaCASMgAADSAAAAEDIJ9QQAh2gAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTtjfDOL1IYARUQAAANIAAAAQC4ATIAAAAAAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAf4AAAAgAAA0gAAABAAAB/gAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="),i="is-active",r="is-open",s=0,o=0,u=function(V,e,l,a,c,i){var r=A.querySelector("#".concat(e)),u=r.querySelector(".calc__total-text--count span"),d=r.querySelector(".calc__total-text--sum span");s=V?s+c:s-c,o=V?o+i:o-i,null!==u&&(u.innerHTML=t("text",l,"&nbsp;")),null!==d&&(d.innerHTML=t("text",a,"&nbsp;")),null!==n&&(n.innerHTML="".concat(t("text",s,"&nbsp;"),"шт =&nbsp;").concat(t("text",o,"&nbsp;"),"₽"))};e.forEach((function(e,l){var d=e.parentElement.querySelector(".calc__burger"),p=e.parentElement.querySelector(".calc__button");if(e.addEventListener("click",(function(l){var u=e.nextElementSibling,g=e.parentElement.hasAttribute("data-block-id")?e.parentElement.getAttribute("data-block-id"):"",v=""!==g?A.querySelector("#".concat(g)):"",b=e.getAttribute("data-spoiler-button"),y=""!==b?b.split("|"):"",S=e.querySelector("[data-spoiler-text]");if(l.preventDefault(),l.stopPropagation(),e.classList.contains(i)){if(""!==y&&(e.ariaLabel=y[0],null!==S&&(S.innerHTML=y[0])),e.classList.contains("switch")&&(null===d||d.disabled||(d.disabled=!0),null===p||p.disabled||(p.disabled=!0),""!==v)){var m=v.querySelector(".calc__total-text--count span"),f=v.querySelector(".calc__total-text--sum span"),L=null!==m?+m.innerHTML.replaceAll("&nbsp;",""):"",E=null!==f?+f.innerHTML.replaceAll("&nbsp;",""):"";null!==m&&null!==f&&(s-=L,o-=E,null!==n&&(n.innerHTML="".concat(t("text",s,"&nbsp;"),"шт =&nbsp;").concat(t("text",o,"&nbsp;"),"₽"))),v.style.cssText="display: none; visibility: hidden"}u&&V(!1,u),e.classList.remove(i),e.parentElement.classList.remove(r)}else{if(""!==y&&(e.ariaLabel=y[1],null!==S&&(S.innerHTML=y[1])),e.classList.contains("switch")&&(null!==d&&d.disabled&&(d.disabled=!1),null!==p&&p.disabled&&(p.disabled=!1),""!==v)){var B=v.querySelector(".calc__total-text--count span"),D=v.querySelector(".calc__total-text--sum span"),q=null!==B?+B.innerHTML.replaceAll("&nbsp;",""):"",T=null!==D?+D.innerHTML.replaceAll("&nbsp;",""):"";null!==B&&null!==D&&(s+=q,o+=T,null!==n&&(n.innerHTML="".concat(t("text",s,"&nbsp;"),"шт =&nbsp;").concat(t("text",o,"&nbsp;"),"₽"))),v.removeAttribute("style")}u&&V(!0,u),e.classList.add(i),e.parentElement.classList.add(r)}e.classList.contains("switch")&&a&&(c.play(),navigator.vibrate&&navigator.vibrate(50))})),null!==d&&d.addEventListener("click",(function(V){var t=d.parentElement;V.preventDefault(),V.stopPropagation(),null!==p?(p.classList.contains(r)&&p.click(),t.classList.toggle(i)):t.classList.toggle(i),d.classList.toggle(i),d.ariaLabel=t.classList.contains(i)?"Закрыть список добавленных":"Открыть список добавленных"})),null!==p){var g=p.parentElement.querySelector(".calc__form"),v=p.querySelector("span");p.addEventListener("click",(function(V){V.preventDefault(),V.stopPropagation(),d.classList.contains(i)&&d.click(),p.classList.toggle(r),v.textContent=p.classList.contains(r)?"Закрыть":"Создать",g.classList.toggle(i),p.parentElement.classList.toggle(i)})),g.addEventListener("submit",(function(V){V.preventDefault(),V.stopPropagation(),p.click()}))}if(e.classList.contains("switch")){var b=e.parentElement,y=b.getAttribute("data-block-id"),S=b.querySelector(".calc__search"),m=b.querySelectorAll(".calc__list-item"),f=b.querySelector(".calc__added"),L=0,E=0,B=0;null!==f&&f.parentElement.style.setProperty("--total-items",m.length>5?5:m.length),m.forEach((function(V){var t=V.querySelector(".calc__list-name").innerHTML,e=V.querySelector(".calc__list-sum"),n=V.querySelector(".calc__quantity-btn--minus"),a=V.querySelector(".calc__quantity-input"),c=V.querySelector(".calc__quantity-btn--plus");V.querySelector(".calc__list-button").addEventListener("click",(function(V){var n=document.createElement("li"),c=""!==a.value?+a.value<=0?1:+a.value:1,i=+e.outerText*c;V.preventDefault(),V.stopPropagation(),L++,E+=c,B+=i,n.setAttribute("id","added-".concat(l,"-").concat(L)),n.className="calc__added-item",n.innerHTML='<p class="calc__added-title" data-item-quantity="'.concat(c,'" data-item-amount="').concat(i,'">').concat(t,"</p>"),n.innerHTML+='<button class="calc__added-button" type="button"><svg class="calc__added-icon" aria-hidden="true"><use xlink:href="#delete" x="0" y="0"></use></svg></button>',f.insertAdjacentElement("beforeend",n),u(!0,y,E,B,c,i);var r=A.querySelector("#added-".concat(l,"-").concat(L," .calc__added-button"));null!==r&&r.addEventListener("click",(function(V){var t=r.previousElementSibling,A=+t.getAttribute("data-item-amount"),e=+t.getAttribute("data-item-quantity");V.preventDefault(),V.stopPropagation(),u(!1,y,E-=e,B-=A,e,A),r.parentElement.remove()})),a.value="1"})),a.addEventListener("input",(function(V){var t=V.target.value;V.target.value=t.replace(/\D/g,"")})),n.addEventListener("click",(function(V){var t=+n.nextElementSibling.value;V.preventDefault(),V.stopPropagation(),--t<=1&&(t=1),a.value=t})),c.addEventListener("click",(function(V){var t=+c.previousElementSibling.value;V.preventDefault(),V.stopPropagation(),t++,a.value=t}))})),null!==S&&S.addEventListener("input",(function(){var V=S.value.toLowerCase(),t=0;m.forEach((function(A){A.querySelector(".calc__list-name").textContent.toLowerCase().includes(V)?(A.style.display="",t++):A.style.display="none"})),null!==f&&f.parentElement.style.setProperty("--total-items",t>3?t>5?5:t:3)})),a||(e.click(),a=!0)}})),l.forEach((function(V){var t=A.querySelector("#".concat(V.getAttribute("name")));V.addEventListener("change",(function(A){A.preventDefault(),A.stopPropagation(),t.innerHTML=V.value}))}))}))}();