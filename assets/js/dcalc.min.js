!function(){"use strict";var V=function(V,A){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is-close";A.style.blockSize="".concat(A.scrollHeight,"px"),V||(A.style.blockSize="".concat(A.scrollHeight,"px"),A.classList.add(t));var e=setTimeout((function(){A.style.blockSize="",A.classList.remove(t),clearTimeout(e)}),500)},A=function(V,A,t){if("text"===V)return A.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t);if("field"===V){var e=A.value.replace(/[^0-9]/g,"");e=e.replace(/\B(?=(\d{3})+(?!\d))/g,t),A.value=e}};document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("body"),e=t.querySelectorAll("[data-spoiler-button]"),a=t.querySelectorAll(".calc__field-input"),l=t.querySelector(".calc__total-result"),n=!1,c=new Audio("data:audio/mpeg;base64,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l66A+sBKsb3MK//SnKSoeEbwjlksu4Y6nUw8//swZPsA8awMWfghSAAAAA0gAAABCB0LYeAwQ4gAADSAAAAElUxBTUUzLjEwMFVVVVVVVVVVVVVVgRCAAnmjmEjpMKT//f6oUrbOjqnbawppb6P//2DCQVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//swZPuA8etCV/kBHWAAAA0gAAABBxBTXeA8YoAAADSAAAAEVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sgZPyA8agY1vgLEKAAAA0gAAABBxDdV+KkToAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7IGT0gPF8JNV4BxHQAAANIAAAAQUcZVOgCSfAAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBk9wzxTDJTaCASMgAADSAAAAEDIJ9QQAh2gAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7EGTtjfDOL1IYARUQAAANIAAAAQC4ATIAAAAAAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//sQZN2P8AAAf4AAAAgAAA0gAAABAAAB/gAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="),i="is-active",r="is-open",s=0,o=0,u=function(V,e,a,n,c,i){var r=t.querySelector("#".concat(e)),u=r.querySelector(".calc__total-text--count span"),d=r.querySelector(".calc__total-text--sum span");s=V?s+c:s-c,o=V?o+i:o-i,null!==u&&(u.innerHTML=A("text",a,"&nbsp;")),null!==d&&(d.innerHTML=A("text",n,"&nbsp;")),null!==l&&(l.innerHTML="".concat(A("text",s,"&nbsp;"),"шт =&nbsp;").concat(A("text",o,"&nbsp;"),"₽"))};e.forEach((function(A,e){var a=A.parentElement.querySelector(".calc__burger"),l=A.parentElement.querySelector(".calc__button");if(A.addEventListener("click",(function(t){var e=A.nextElementSibling,s=A.getAttribute("data-spoiler-button"),o=""!==s?s.split("|"):"",u=A.querySelector("[data-spoiler-text]");t.preventDefault(),t.stopPropagation(),A.classList.contains(i)?(""!==o&&(A.ariaLabel=o[0],null!==u&&(u.innerHTML=o[0])),A.classList.contains("switch")&&(null===a||a.disabled||(a.disabled=!0),null===l||l.disabled||(l.disabled=!0)),e&&V(!1,e),A.classList.remove(i),A.parentElement.classList.remove(r)):(""!==o&&(A.ariaLabel=o[1],null!==u&&(u.innerHTML=o[1])),A.classList.contains("switch")&&(null!==a&&a.disabled&&(a.disabled=!1),null!==l&&l.disabled&&(l.disabled=!1)),e&&V(!0,e),A.classList.add(i),A.parentElement.classList.add(r)),A.classList.contains("switch")&&n&&(c.play(),navigator.vibrate&&navigator.vibrate(50))})),null!==a&&a.addEventListener("click",(function(V){var A=a.parentElement;V.preventDefault(),V.stopPropagation(),null!==l?(l.classList.contains(r)&&l.click(),A.classList.toggle(i)):A.classList.toggle(i),a.classList.toggle(i),a.ariaLabel=A.classList.contains(i)?"Закрыть список добавленных":"Открыть список добавленных"})),null!==l){var s=l.parentElement.querySelector(".calc__form"),o=l.querySelector("span");l.addEventListener("click",(function(V){V.preventDefault(),V.stopPropagation(),a.classList.contains(i)&&a.click(),l.classList.toggle(r),o.textContent=l.classList.contains(r)?"Закрыть":"Создать",s.classList.toggle(i),l.parentElement.classList.toggle(i)})),s.addEventListener("submit",(function(V){V.preventDefault(),V.stopPropagation(),l.click()}))}if(A.classList.contains("switch")){var d=A.parentElement,p=d.getAttribute("data-block-id"),g=d.querySelector(".calc__search"),v=d.querySelectorAll(".calc__list-item"),y=d.querySelector(".calc__added"),f=0,S=0,b=0;null!==y&&y.parentElement.style.setProperty("--total-items",v.length>5?5:v.length),v.forEach((function(V){var A=V.querySelector(".calc__list-name").innerHTML,a=V.querySelector(".calc__list-sum"),l=V.querySelector(".calc__quantity-btn--minus"),n=V.querySelector(".calc__quantity-input"),c=V.querySelector(".calc__quantity-btn--plus");V.querySelector(".calc__list-button").addEventListener("click",(function(V){var l=document.createElement("li"),c=""!==n.value?+n.value<=0?1:+n.value:1,i=+a.outerText*c;V.preventDefault(),V.stopPropagation(),f++,S+=c,b+=i,l.setAttribute("id","added-".concat(e,"-").concat(f)),l.className="calc__added-item",l.innerHTML='<p class="calc__added-title" data-item-quantity="'.concat(c,'" data-item-amount="').concat(i,'">').concat(A,"</p>"),l.innerHTML+='<button class="calc__added-button" type="button"><svg class="calc__added-icon" aria-hidden="true"><use xlink:href="#delete" x="0" y="0"></use></svg></button>',y.insertAdjacentElement("beforeend",l),u(!0,p,S,b,c,i);var r=t.querySelector("#added-".concat(e,"-").concat(f," .calc__added-button"));null!==r&&r.addEventListener("click",(function(V){var A=r.previousElementSibling,t=+A.getAttribute("data-item-amount"),e=+A.getAttribute("data-item-quantity");V.preventDefault(),V.stopPropagation(),u(!1,p,S-=e,b-=t,e,t),r.parentElement.remove()})),n.value="1"})),n.addEventListener("input",(function(V){var A=V.target.value;V.target.value=A.replace(/\D/g,"")})),l.addEventListener("click",(function(V){var A=+l.nextElementSibling.value;V.preventDefault(),V.stopPropagation(),--A<=1&&(A=1),n.value=A})),c.addEventListener("click",(function(V){var A=+c.previousElementSibling.value;V.preventDefault(),V.stopPropagation(),A++,n.value=A}))})),null!==g&&g.addEventListener("input",(function(){var V=g.value.toLowerCase(),A=0;v.forEach((function(t){t.querySelector(".calc__list-name").textContent.toLowerCase().includes(V)?(t.style.display="",A++):t.style.display="none"})),null!==y&&y.parentElement.style.setProperty("--total-items",A>3?A>5?5:A:3)})),n||(A.click(),n=!0)}})),a.forEach((function(V){var A=t.querySelector("#".concat(V.getAttribute("name")));V.addEventListener("change",(function(t){t.preventDefault(),t.stopPropagation(),A.innerHTML=V.value}))}))}))}();